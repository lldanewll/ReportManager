# Defect Management System

## Автор
**Новиков Даниил Дмитриевич**  
ЭФБО-03-23

## Описание проекта
Система управления дефектами с веб-интерфейсом для отслеживания и управления дефектами в проектах.

## Архитектура системы

### Технологический стек
- **Frontend**: Next.js - интерфейс управления дефектами
- **Backend**: Next.js + PostgreSQL - серверная логика и хранение данных
- **Контейнеризация**: Docker Compose
- **База данных**: PostgreSQL для структурированного хранения данных

### Компоненты системы
- Пользователи и аутентификация
- Управление проектами
- Трекинг дефектов
- Система комментариев
- Назначение ответственных

## Диаграммы системы

### Use Case Diagram

```mermaid
graph TD
    A[Пользователь] --> B[Регистрация]
    A --> C[Авторизация]
    A --> D[Создание проекта]
    A --> E[Добавление дефекта]
    A --> F[Просмотр дефектов]
    A --> G[Назначение ответственного]
    A --> H[Комментирование дефектов]
    
    B --> I[Система аутентификации]
    C --> I
    D --> J[Управление проектами]
    E --> K[Управление дефектами]
    F --> K
    G --> L[Назначения]
    H --> M[Комментарии]
    
    I --> N[База данных PostgreSQL]
    J --> N
    K --> N
    L --> N
    M --> N
```

###Sequence Diagram

```mermaid
sequenceDiagram
    participant U as Пользователь
    participant F as Frontend (Next.js)
    participant B as Backend (Next.js)
    participant DB as PostgreSQL
    
    U->>F: Запрос страницы
    F->>B: API запрос
    B->>DB: SQL запрос
    DB-->>B: Данные
    B-->>F: JSON ответ
    F-->>U: Отображение страницы
    
    U->>F: Действие (создание дефекта)
    F->>B: POST /api/defects
    B->>DB: INSERT defect
    DB-->>B: ID нового дефекта
    B-->>F: Success response
    F-->>U: Уведомление об успехе
```

##Workflow процессы

###Workflow: Регистрация пользователя

```mermaid
flowchart TD
    A[Начало] --> B[Открытие формы регистрации]
    B --> C[Заполнение данных]
    C --> D{Валидация данных}
    D -->|Невалидно| E[Показать ошибки]
    E --> C
    D -->|Валидно| F[Отправка на сервер]
    F --> G{Регистрация успешна?}
    G -->|Нет| H[Показать ошибку]
    H --> C
    G -->|Да| I[Автоматическая авторизация]
    I --> J[Перенаправление в систему]
    J --> K[Конец]
```

###Workflow: Создание нового проекта

```mermaid
flowchart LR
    A[Начало] --> B[Нажать Создать проект]
    B --> C[Заполнить данные проекта]
    C --> D{Валидация}
    D -->|Ошибка| E[Исправить ошибки]
    E --> C
    D -->|Успех| F[Сохранить проект]
    F --> G[Проект создан]
    G --> H[Конец]
```

###Workflow: Добавление дефекта

```mermaid
flowchart TD
    A[Начало] --> B[Выбор проекта]
    B --> C[Заполнение данных дефекта]
    C --> D[Прикрепление файлов]
    D --> E{Валидация данных}
    E -->|Ошибка| F[Исправить ошибки]
    F --> C
    E -->|Успех| G[Сохранение дефекта]
    G --> H[Уведомление ответственного]
    H --> I[Конец]
```

###Workflow: Выбор ответственного за дефект

```mermaid
flowchart TD
    A[Начало] --> B[Просмотр списка дефектов]
    B --> C[Выбор дефекта]
    C --> D[Нажать Назначить]
    D --> E[Выбор пользователя из списка]
    E --> F{Подтверждение назначения}
    F -->|Отмена| B
    F -->|Подтвердить| G[Сохранение назначения]
    G --> H[Уведомление пользователя]
    H --> I[Обновление статуса дефекта]
    I --> J[Конец]
```

###Workflow: Новый дефект (полный цикл)

```mermaid
flowchart TB
    A[Обнаружение дефекта] --> B[Создание записи дефекта]
    B --> C[Назначение приоритета]
    C --> D[Назначение ответственного]
    D --> E[Исправление дефекта]
    E --> F[Проверка исправления]
    F --> G{Исправление подтверждено?}
    G -->|Нет| E
    G -->|Да| H[Закрытие дефекта]
    H --> I[Архивирование]
```
